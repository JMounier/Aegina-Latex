\documentclass[12pt,a4paper]{article}
\RequirePackage[french]{babel}
\usepackage{fancyhdr}
\usepackage[latin1]{inputenc}
\usepackage{amsfonts}
\usepackage[french]{babel}
\usepackage{listings}
\usepackage{pst-eucl}
\usepackage{setspace}
\usepackage{graphicx}
\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{color}
\usepackage{textcomp} 
\geometry{vmargin=3.5cm,hmargin=2.25cm}
\pagestyle{plain}

\selectlanguage{french}

\begin{document}
\chead{Aegina : rapport de soutenance \no 2}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{titlepage}
\begin{center} 
\huge
\vspace*{1cm}
Aegina : rapport de soutenance \no 2\\
\vspace*{2em}
\large
Florian \bsc{Amsallem} (amsall\_f) , Théo \bsc{Issarni} (issarn\_t), \\Julien \bsc{Mounier} (mounie\_a), Romain \bsc{Mounier} (mounie\_r)\\
\vspace{1em}
AIM$^{2}$\\
Aegina\\
\vspace{2cm}
\includegraphics[width=10cm]{AeIcon.png}
\end{center} 
\begin{figure}[b]
\includegraphics[height=2cm]{logo.jpg}
\hspace{10cm}
\includegraphics[height=2cm]{logo-epita-hd.png}
\end{figure}
\end{titlepage}
\onehalfspacing

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagebreak

\section*{Introduction}

Ce rapport contient l'état du développement du jeu Aegina du 20 mars 2016 au 1\ier{}  Mai 2016. Nous détaillons d'abord quelques éléments de l'univers du jeu. Nous expliquons ensuite les différents améliorations du gameplay et du système du jeu et nous détaillons tout les ajouts faits depuis la première soutenance. Nous présentons également le site web et enfin  les dernières modifications du jeu prévu avant la fin de son développement.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\addcontentsline{toc}{section}{\protect\numberline{}Introduction}

\section{Univers du jeu}
\label{univers}

Dans le rapport de 1ère soutenance nous avons révéler l'histoire entourant Aegina, Ille, les cristaux et les divers minerais existant dans ce monde. Seulement, le jeux étant encore en début de développement, nous n'avons pas vraiment parler de l'écosystème existant dans le monde d'Aegina. 
\\
Suite au développement du jeux Celui-ci n'est plus aussi vide qu'avant et nous pouvons maintenant parler des différents environnement existant Aegina ainsi que des créatures y vivant.

\subsection{Biomes}

Le climat dans l'univers d'Aegina est très étrange. Il peut changer brusquement d'une zone à une autre mais reste stable sans ne jamais changer dans ces zones ci. Cette régularité à permis à de nombreuses espèces de s'installer et de survivre dans ce monde s'en craindre un brusque changement de climat. Les différents climats d'Aegina, au nombre de quatre, sont souvent appeler les quatre saisons d'Aegina pour leur ressemblance aux saisons du climat tempérée de notre monde.

\subsubsection{Primtemps : Forêt}

Le printemps d'Aegina est un climat dans lequel les température sont stable entre 6 et 20\degre{}C. De plus les pluies ne se font pas rare ce qui permet aux îles du printemps d'Aegina d'accueillir une faune et une flore abondante et varié. 
\\
Ces îles aux apparences tranquilles sont ce qui paraitrait comme les zones les plus agréables pour les voyageurs d'Aegina qui cherchent un endroit pour se reposer. Cependant détromper vous, les créatures d'Aegina sont très agressifs et le printemps d'Aegina est la saison de la \og  moisson \fg{} pour les aventuriers qui s'y aventure.
\\
Les cristaux se trouvant dans le printemps d'Aegina ont très souvent la capacité de rendre la terre plus fertile et d'augmenter le nombre d'animaux et de végétaux dans l'île transformant les forêt de ces îles en jungles dangereuse pour quiconque s'y aventurerais. Le printemps d'Aegina serait une véritable mine d'or pour des entrepreneur cherchant à récolter du bois ou cultiver des plantes mais malheureusement ce type de personne survit rarement longtemps dans Aegina.

\subsubsection{Automne}

L'automne d'Aegina est un climat ou les température varie entre 2 et 25\degre{}C. un fort ensoleillement et d'autres raison obscures ont permis à une végétation assez particulière de se développer dans ce Climat. Cette végétation possède une couleur rouge-orangé donnant l'impression d'un automne constant sur l'île. De plus c'est seulement dans l'automne d'Aegina que l'on peut trouvé certaines espèces végétale comme les champignons et les citrouilles.
\\
Malgré la présence de créatures plus faible dans l'automne d'Aegina que dans le printemps d'Aegina ces zones n'en reste pas moins dangereuse car l'automne d'aegina échange la densité de créatures contre une plus grande diversité de celle-ci rendant la chace plus dangereuse pour des chasseur aguerries Ces zones n'en reste pas moins les zones favorites des aventurier du monde d'Aegina car celles-ci ont le meilleurs rapport confort de vie danger des créatures.
\\
Les cristaux se trouvant dans l'automne d'Aegina peuvent avoir n'importe qu'elle capacité rendant ces zones plus varié et uniques qu'elle ne le sont déjà. De plus tous les ans les aventuriers d'Aegina se vont sur ce genre d'île ou ils récoltent et sculptent des citrouille en pleurant et en se souvenant de leurs monde. cette pratique vaut à l'automne d'Aegina un autre nom : la saison de la mélancolie.

\subsubsection{Hiver : neige}

L'hivers d'aegina est un climat extrêmement froid qui atteint des températures avoisinant les -20\degre{}C et qui ne dépassent jamais les 0\degre{}C. Ce Climat rend la faune et la flore sur ces îles peu fréquentes. Etrangement les îles influencé par l'hivers possèdent une abondance de minerai. Celà serait du au fait que, à cause de la faible présence d'être vivant pouvant absorber les énergies étrange d'Aegina, ces énergies sont absorbées par les roches et transformer en minerai.
\\
Malheureusement la faible présence de créature dans l'hivers d'Aegina n'en fait pas un lieu de rêve pour les aventuriers d'Aegina car le climat y est tout de même redoutable et la nourriture rare. Seules les rares aventuriers capable de forger y viennent pour récupérer des minerais.
\\
Les cristaux se trouvant dans l'hiver d'Aegina on de plus forte chance de posséder des pouvoirs divins capables de briser l'espace et le temps. Ceux-ci permettent souvent de se déplacer vers d'autres cristaux se trouvant aussi dans l'hiver d'Aegina ce qui est très utiles pour les aventurier possédant une base près de ces zones et veulent explorer le monde d'Aegina.

\subsubsection{Eté : désert}

L'été d'Aegina est un Climat extrêmement chaud et aride. La température y est toujours au dessus de 20\degre{}C et peut atteindre les 35\degre{}C. La faune et la flore de l'île est alors très particulière elle est globalement constitué de cactus que ce soit pour la flore ou pour la faune. Etrangement c'est aussi l'un des seuls endroits ou l'on peut trouver de l'eau car les cactus d'Aegina sont capable de retenir une énorme quantité d'eau en leur intérieur.
\\
Le climat de L'été d'Aegina n'est pas vraiment le meilleur pour les aventurier d'Aegina mais la présence de cactus et surtout d'eau à l'intérieur peut transformer cette zone un un lieu très agréable pour se reposer. Malheureusement quelques créatures rodent dans l'été d'Aegina et celle-ci peuvent profiter d'un moment d'égarement pour se repaître d'aventurier encore chaud.
\\
Les Cristaux se trouvant dans l'été d'Aegina on la particularité d'être le plus souvent des cristaux de guerre. Ceux-ci renforce les aventurier d'Aegina les rendant capable d'abattre un sanglier d'un seul coup d'épée bien affuté. De plus ces aventurier se retrouve alors également avec un corps résistant comme l'acier leur permettant de combattre une armée de monstre sans périr. Malheureusement l'effet ressenti et bien souvent plus puissant que l'effet réel amenant alors les aventurier à une mort prématuré face à une horde de monstre.

\subsection{Créatures}

Les créatures de l'univers d'Aegina sont toutes des êtres vivants ayant muté à cause de l'influence des cristaux. Cela donne à Aegina un faune unique que les aventuriers d'Aegina n'apprécient pas forcement.

\subsubsection{Sanglier}

Le sanglier d'Aegina et une créature présentent dans la plupart biomes d'Aegina. Le seul climat que ce sanglier évite et le froid de l'hiver d'Aegina, par opposition il se porte très bien dans des climat chaud comme l'été d'Aegina où il n'hésite pas à détruire des cactus pour boire.
\\
 Contrairement à un sanglier normal il a plus l'apparence d'un phacochère et se montre très agressif envers les aventurier d'Aegina. Son régime alimentaire est constitué de tout ce qu'il peut trouver allant du cactus à la chair humaine et en passant même par les minerai de mithril qu'il affectionne pour des raison que l'on ignore.
 \\
 Une particularité que les aventuriers d'Aegina ont trouver à ces sangliers est que ceux-ci ont une  peur des abysses telle qu'ils n'osent pas s'approcher du bords des îles et n'empruntent de pont que lorsque leurs ennemies ne se trouvent pas en leur présence de peur que ceux-ci les poussent dans le vide.
 \\
 Ces sanglier, bien que très dangereux, sont très apprécié des aventuriers d'Aegina car leur chaire est un met succulent et peut être facilement cuisiner en de nombreux plats. Ces sangliers sont facilement les meilleurs mets de tout l'univers d'Aegina loin devant les autres créatures qui, parfois, ne peuvent même pas être mangées.

\subsubsection{Pampi}

Le pampi est un mystère pour tous les biologistes ayant mis les pieds dans le monde d'Aegina. Cette créature vivant dans le désert ressemble à un cactus humanoïde. Personne ne sait si les pampis sont des cactus ayant acquis la capacité de se mouvoir, des créatures prenant l'apparence de cactus pour se camoufler ou des humains ayant été transformer en cactus.
\\
Ces trois hypothèse restent plausible car le régime alimentaire du pampi reste inconnue et pourrait bien se limiter à un peu d'eau fraiche et de soleil comme les autres plante. Cependant ces pampis possèdent une bouche et, même si celle-ci ne semble pas servir à manger, elle marque bien l'appartenance du pampi au règne animal.
\\
De plus le comportement du pampi colle bien à l'hypothèse qu'il ai pris l'apparence d'un cactus pour se camoufler car celui possède une nature très peureuse et il ne montre ses coté agressifs que en deux occasions : quand il est acculé et n'a plus de possibilité pour s'enfuir et quand on l'appelle pampa. En effet, alors que cela pourrait paraître étrange, le pampi est une espèce orgueilleuse qui n'aime pas que l'on déforme son nom.
\\
Enfin la dernière hypothèse vient en parti de ce caractère orgueilleux typiquement humain mais surtout des cris que pousse le pampi, ceux-ci rappelant des cris humain.
\\
Les aventurier d'Aegina qui chassent le pampi ont deux règle d'or : ne pas acculer un pampi et ne pas prononcer le mot pampa. Un pampi agressif est l'une des créatures les plus dangereuse d'Aegina capable de propulser leurs épines avec la puissance d'une mitraillette. Les squelettes que l'on peut trouver dans le désert sont les vestiges d'une espèce détruite par les pampi. Malheureusement pour elle cette espèce poussait un cri ressemblant à s'y méprendre au mot pampa.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagebreak
\section{Réalisation}

\subsection{Les améliorations du Gameplay}

Les améliorations faites depuis la première soutenance se sont en grande partie concentré sur le Gameplay. En effet lors de la première soutenance nous avions de nombreuses base dans notre jeux qui nous permettait de se déplacer et d'admirer le paysage mais rien d'autre. Il était impossible de réellement jouer de de s'amuser. Les nouvelles améliorations vont permettre à notre jeux d'être vraiment un jeux. On pourra enfin s'amuser en y jouant.

\subsubsection{La création d'objets(Romain)}

Une nécessité en survie et dans tous les jeux de survie est l'obtention d'outil primitif pour fabriquer un abri ou chasser. Pour cela il faut pouvoir créer ces outils.  Nous avons donc rajouter un système de création d'objet. une énumérations de toutes les recettes possibles divise celle-ci en cinq catégories : les établies permettant de fabriquer plus d'outils, les ressources de constructions qui sont principalement utilisé pour fabriquer des objets plus évolués, les consommables et les armes qui seront présenté plus en détail dans le suite de ce rapport et enfin les armures qui ne sont pas encore implémentés.
\\
La réalisation de Chacune de ces recettes nécessitera plusieurs conditions. D'abord il faudra possédé une place vide dans l'inventaire pour fabriquer un objet. Même si Ille possède déjà quelques composant de l'objet qu'il veut fabriquer le passage d'un bâton à une pioche ne se fait pas de manière directe. Ille doit d'abord crée un manche, forger un fer de pioche et assembler les deux. Il a donc besoin de cet espace vide dans son inventaire pour toutes ces actions. Ensuite Ille doit posséder les composant nécessaire à la fabrication de l'objet souhaiter. Cela paraît naturel Il est impossible de faire une pioche à partir de rien tout comme on ne peut pas faire de ragout sans viande. Enfin Ille doit se trouver à proximité des établis nécessaire à la fabrication des objets souhaiter. Aucune indication n'est donnée pour savoir qu'elle établie est nécessaire pour faire un objet mais cela reste évident : il faut par exemple être à proximité d'une forge pour fabriquer des lingot ou un autre objet en fer.
\\
Mais malgré tout cela Il manque une chose à Ille pour qu'il puisse fabriquer facilement des objets : l'expèrience. Ille ne sait pas forcement comment fabriquer du verre ou forger une épée et toute tentative de fabriquer un telle objet se verra couteuse en ressource. Pour être exact tant que la fabrication d'un objet n'est pas maîtriser le cout en ressource de cette fabrication sera doublé. Pour maitriser une recette il n'existe actuellement qu'une seul possibilité : La chance.
\\
Enfin certaines recettes sont caché et il est impossible de savoir qu'elles existent sans remplir certaines conditions ou rechercher sur le wiki.
\\
\\
En jeu il est possible d'accéder au système de Craft en même temps que l'inventaire.

\begin{figure}[h!]
\begin{center}\includegraphics[width=14cm]{CraftHUD}
\caption{Interface de la création d'objet} 
\label{Craft}
\end{center}
\end{figure}

sur la partie gauche de l'écran cinq boutons permettent de choisir qu'elle catégorie d'objet l'on veut créer (entourée en bleue sur la figure \ref{Craft}). Après avoir appuyer sur ce bouton une liste d'élément pouvant être créés apparait (entourée en rouge sur la figure \ref{Craft}). Les flèche en haut et en bas permettent de faire défiler les éléments en en appuyant sur l'un de ces éléments sa recette s'affiche sous la forme d'une liste d'éléments (entourée en vert sur la figure \ref{Craft}). dans cette liste d'éléments la dernière case est cochée en vert ,si l'objet peut être créé, ou occupée par une croix rouge dans le cas contraire. Si on appuie sur la case cochée en vert on va enfin pouvoir créer les objets que l'on voulait.

\subsubsection{Les Créatures (Florian)}

L'arrivée des créatures dans le monde d'Aegina a imposé la création d'intelligence artificielle. 
\\
Nous avons commencé par la génération de graphes lors du chargement de chunks. Ce dernier est propre à chaque chunk. Il possède un certain nombre de noeuds comportant tous plusieurs informations telles que la présence d'éléments par exemple un arbre ou un rocher (voir figure~\ref{Graphe}).

\begin{figure}[h!]
\begin{center}\includegraphics[width=16cm]{graphe}
\caption{Graphe} 
\label{Graphe}
\end{center}
\end{figure}


Une fois le graphe généré pour chaque chunk, nous avons pu coder un algorithme de \textit{path finding}, le \textit{A*}. Ceci nous permet de trouver le meilleur chemin pour aller d'un point A à un point B du graphe. De plus les îles séparées par du vide ou un pont ont des graphes disjoints, cela permet entre autres que les mobs restent sur leur île. 
\\
\\
Nous avons donc la possibilité de déplacer nos créatures intelligemment. Il nous a fallu gérer le focus et l'attaque. Cela se gère uniquement en fonction de la distance entre le mob et le joueur le plus proche. Tant qu'un mob est loin de tous personnage celui ci va donc ce balader en choisissant un point aleatoirement sur le graphe. Des qu'un joueur est assez proche alors le mob va se diriger en évitant tous les obstacles vers le joueur. Une fois à porter celui-ci va l'attaquer avec une vitesse d'ataque et des dégats qui lui sont propre.

\subsubsection{Le combat et le mode joueur contre joueur(Théo et Romain)}

Avec l'ajout des créatures il nous faut aussi le moyen de nous défendre. C'est pour cela que nous avons donner à Ille le moyen d'attaquer. en étant immobile ou en se déplaçant le joueur peut, en utilisant un clic gauche, déclencher l'attaque de Ille. Celui-ci va alors faire un rapide cout en avant avec l'objet dans ses mains ou à main nue si il ne possède pas d'objet. Cependant il faut faire attention si Ille saute, déclenche un menu ou utilise un objet pendant les deux premiers dixième de seconde après le début de sont attaque celle-ci sera annulé. De plus Ille n'est pas un barbare et cela ne sert à rien de de cliqué le plus vite avec ça souris car Ille ne peut déclencher une attaque que tout les huit dixièmes de secondes même si la précédente attaque a été annulée. 
\\
Avec l'ajout de la capacité d'attaque deux nouvelles valeurs sont mise en jeu : l'attaque et l'armure. Ille possède une attaque prédéfinie qui peut être influencé par l'arme qu'il possède grâce à la formule : $$Dommage De L'attaque = Attaque Du Joueur \times Coefficient D'attaque De L'arme$$ L'arme du joueur à donc un grand impact sur les dégâts de celui-ci. Cependant les dommage de l'attaque ne sont pas directement la vie perdue par le joueur car celui ci peut utiliser son armure pour se défendre. La vie perdu suit alors la formule : $$Vie Perdu =  Dommage De L'attaque \times \frac{1}{1+Armure *Coefficient D'armure}$$
\\
En même temps que le combat un mode joueur contre joueur a été ajouté. Lors du lancement d'une partie il est possible de choisir de joueur en joueur contre joueur. Les joueurs qui se connecte sur le serveur vont alors être séparé en plusieurs équipe. Ces joueurs auront alors des points de réparation différents et pourront attaquer les joueurs qui n'appartiennent pas à leur équipe. De plus ils pourront attaquer les cristaux des autres joueurs pour le leur voler. Ainsi ils profiterons des avantages de ces cristaux et les joueurs adverses seront affaiblis.

\subsubsection{Le système de Succès(Julien)} 
 
Les succès représentent les exploits réalisés par les joueurs. De plus, notre jeu laissant beaucoup de liberté au joueur, il est possible que celui-ci ne sache plus quoi faire. C'est la que les succès interviennent car ils proposent différents défies auxquels le joueur peut se confronter. Ces exploits peuvent porter sur différents aspects de la survie comme le nombre de créatures tuer ou encore la quantité de potions consommées.
\\
D'un point de vue technique, tous les différents succès sont stockés comme attribut static d'une classe particulière. Mais ces succès étant accomplis par les joueur a n'importe quel moment, il fallait trouver un moyen de mettre à jours ces attributs à chaque instant tout en y passant le moins de temps possible. Les mise à jours doivent donc répondre à quelques contraintes : 
\begin{itemize}
\item ne pas tester les succès déjà accomplis
\item ne pas tester les succès dépendant de succès non accomplis (l'objectif \textit{ Tuer 10 monstre} ne peut pas être réussi avant l'objectif \textit{Tuer 1 monstre})
\item indiquer au joueur le moment ou il réussi un succès
\end{itemize}

Pour régler ces premier problème, nous avons opter pour l'utilisation de 2 structures. Tous d'abord, un nouvelle objet appelé \textit{Succes} qui contient : un booléen indiquant si le \textit{Succes} est réussi, la liste de toutes les conditions nécessaires à l'accomplissement de celui-ci, son nombre de parents et une liste de \textit{fils}. Ces deux dernier éléments permettent de créer une hiérarchie entre les différents succès et de faciliter l'affichage.
 \\
La deuxième structure est une liste de succès a mettre à jours, présente uniquement sur le serveur. A Chaque frame, le serveur teste si les succès présents dans la liste sont accomplis. Si un succès est accompli, alors il est retiré de la liste à tester et tous ces fils y sont ajoutés si ils n'étaient pas déjà présents. De plus, l'affichage d'un pop-up en haut à gauche de l'écran est demandé sur chaque client attestant de l'accomplissement du succès (voir figure~\ref{Pop-up}). La demande d'affichage est mise dans une file pour qu'aucuns pop-up ne se superpose.

\begin{figure}[h!]
\begin{center}\includegraphics[width=10cm]{Pop-up}
\caption{Affichage du Pop-up} 
\label{Pop-up}
\end{center}
\end{figure}

Une interface est également présente pour permettre aux joueurs de contempler les succès qu'ils ont accomplis (voir figure~\ref{Succes}). Dans cette interface, chaque succès est représenté per une image et leur hiérarchie est visible grâce à des lignes. A terme, une si petite fenêtre ne sera pas suffisante pour afficher tous les succès, c'est pourquoi des bar de défilement serons présente a droite et en dessous de la zone d'affichage (celle de droite est déjà visible).
\\
La distinction entre les succès accomplis, les succès présents dans la liste (pouvant être accomplis) et ceux ne pouvants pas l'être ce fais par l'utilisation de trois \textit{Shader}. Comme expliqué dans le premier rapport de soutenance, un \textit{Shader} indique a la carte graphique comment calculer la couleur de chaque pixel de l'écran. 
\\
Le premier \textit{Shader} affiche l'image du succès sans la modifier \textit{(succès accompli)}, le deuxième ne tient compte que de la transparence de l'image et affiche un gris la où l'image n'est pas transparente \textit{(succès pouvant être accompli)} et le dernier n'affiche pas du tout l'image \textit{(succès impossible)}.

\begin{figure}[h!]
\begin{center}\includegraphics[width=14cm]{Succes}
\caption{Interface des succès} 
\label{Succes}
\end{center}
\end{figure}

\subsubsection{Les objets équipables et l'interaction avec l'environnement(Théo et Julien)}

% affichage des objets dans la main

% gestion des consommables et leurs différents effets

% gestion des Worktope, leur prévisu et la pose dans le monde

% gestion des outils et l'intéraction avec l'environement

\subsubsection{Amélioration du Cristal (Florian et Romain)}

Par rapport à la première soutenance Les capacité du cristal ont été énormément amélioré. Celui à maintenant une place importante dans le jeu.
\\
La première amélioration que l'on remarque sur le cristal est son interface qui est devenue bien plus garnie.
\\
Dans le cadre bleue de la figure \ref{Cristal} se trouve les informations sur le type du cristal et ces pouvoirs. Les pouvoirs du cristal se distinguent en trois partie :
\begin{itemize}
\item Le pouvoir de guerre qui renforce la puissance du joueurs. Si un joueur se trouve sur l'île il bénéficie d'un bonus en attaque et en armure significatif. En effet si le pouvoir de la guerre d'un cristal est maximisé les joueurs sur l'île verront leur attaque multiplié par deux par rapport à un joueur sans cristal. De plus ils réduiront également de moitié tous les dégâts qu'il recevront.
\item Le pouvoir de la récolte qui renforce la production du joueur. Si un joueur sur l'île tente de fabriquer un objet il aura plus de chance de maîtriser une recette. De plus les ressources autours de ce genre de cristal auront plus de chance de réapparaître.
\item Le pouvoir divin qui a une influence plus tactique sur les joueur. Actuellement ce pouvoir permet juste de désigner un cristal comme un point de réapparition sur lequel le joueur peut apparaître. Plus tard il permettra également de se téléporter vers les autres cristaux possédant du pouvoir divin.
\end{itemize}
 Il est possible d'augmenter n'importe qu'elle pouvoir du cristal en appuyant sur le bouton \og Upgrade\fg{} de la colonne du pouvoir voulu et en consommant les ressources présentent dans le cadre rouge sur la figure \ref{Cristal}. Cependant un cristal après sont activation ne peut être améliorer que trois fois et chaque amélioration est plus chère que la précédente.
 \\
 En joueur contre joueur les pouvoirs du cristal ne s'applique qu'au joueur de la même équipe que celui-ci. Les autres joueurs peuvent attaquer le cristal pour faire descendre la vie de celui-ci. Cette vie est représentée par la jauge bleue dans le cadre vert de la figure \ref{Cristal}. Lorsque la vie d'un cristal tombe à 0 il prend les couleur de l'équipe qui la détruit et perd un niveau aléatoirement dans l'un de ces trois pouvoirs. Il est possible pour les joueur allié au cristal de soigner celui-ci en consommant une dizaine de ressources et en appuyant sur le bouton \og Heal\fg{} en dessous de la vie du cristal. Plus le cristal est d'un niveau élevé plus la ressource nécessaire pour activer celui-ci est rare.
 \begin{figure}[h!]
\begin{center}\includegraphics[width=14cm]{CristalHUD}
\caption{Interface de l'intéraction avec le cristal} 
\label{Cristal}
\end{center}
\end{figure}
 
\subsection{Les grandes améliorations du système de jeux}

En plus d'améliorer le gameplay Nous avons également fait de grandes améliorations du système de jeux en général comme une refonte du menu principale et l'ajout d'un système de sauvegarde.

\subsubsection{La sauvegarde (Florian)}

La sauvegarde est une des grandes implementations pour cette deuxième soutenance, celle-ci permet aux joueurs d'arrêter une partie et de la reprendre quand ils veulent.
\\
La première chose que nous avons du modifier est la sauvegarde du monde. Pour cela nous avons utilisé un système de \textit{seed}. Le principe est le suivant, lorsque le joueur créer un monde alors un nombre va être choisi aléatoirement. Ce nombre est appelé la \textit{seed} du monde. À partir de celui-ci nous pouvons en déduire toutes les informations sur le monde, c'est-à-dire, les iles et leur position mais aussi leur biome et leur environnement. Nous avons dû compléter le système de génération du monde et plus précisément d'un chunk. 
\\
Chaque chunk va calculer son propre \textit{seed} à partir du \textit{seed} du monde et de sa position, à partir de ce nouveau seed nous allons pouvoir connaitre ses îles et son biome. Puis pour chacune des ancres nous savons l'élément qui doit être à cet emplacement.
\\
\\
Nous avons uniquement besoin de sauvegarder la \textit{seed} pour sauvegarder notre monde. Cependant les modifications du joueur ne peuvent pas être déterminées grâce au seed. Nous avons donc besoin de sauvegarder des informations supplémentaires telles que l'heure de la journée, les éléments détruits et posés, mais aussi les caractéristiques des cristaux. Enfin l'arrivée des succès et des statistiques de jeu doit être elles aussi sauvegardé.
Pour finir chaque joueur a des informations à sauvegarder en voici la liste :


\begin{itemize}
\item La position ;
\item Le contenu de son inventaire ;
\item Sa vie, sa faim et sa soif ; 
\item Les effets (régénération, poison \ldots) et leur temps restant; 
\item Son équipe en mode \textit{PvP} ; 
\end{itemize}

\subsubsection{La refonte du Menu (Romain)}

Si nous avons la possibilité de sauvegarder un monde il faut aussi avoir la possibilité de choisir avec quel monde nous voulons jouer. Pour cela nous avons du refaire le menu principal.

\begin{figure}[h!]
\begin{center}\includegraphics[width=16cm]{MenuPrincipal}
\caption{Menu Principal} 
\label{MenuPrincipal}
\end{center}
\end{figure}

Dans ce menu principal nous avons rajouter une petite interface donnant accès à la liste des monde que l'on peut jouer. De même on peut enregistrer des adresses de serveur qui nous permettrons de ne pas devoir ré-entrer les adresses IP des serveur auquel ont veut avoir accès en prenant le risque de se tromper. 
\\
sur la figure \ref{MenuPrincipal} la partie encadrée en rouge n'apparait que lorsque l'on appuie sur le bouton \og Join \fg{} et montre la liste des serveur que l'on a enregistré. De même une interface similaire apparaît lorsque appuie sur le bouton \og Play \fg{} mais cette fois avec une liste de monde. Cette liste de monde est généré automatiquement en parcourant les fichier de la sauvegarde.
\\
Dans cette interface il est possible de sélectionné un serveur ou un monde en cliquant dessus. On ne le voit pas vraiment mais une fine ligne blanche forme alors le contours du monde sélectionner. Il est alors possible de supprimer le monde ou le serveur de la liste en appuyant sur le bouton \og Delete \fg{} ou de lancer le jeu en appuyant sur le bouton \og Start \fg{}. Lorsque la liste possède plus de 3 éléments l'écran n'en affiche que trois mais il est possible de parcourir toute la liste en appuyant sur les flèches se trouvant dans la partie droite du rectangle rouge.
\\
Enfin il est possible d'accéder à une interface de création de monde ou de serveur en appuyant sur le bouton \og Create \fg{}
\\
Dans l'interface de création de monde (voir figure \ref{CreationMonde}) Il faut donner un nom à son monde, choisir le type de jeu que l'on veut faire en appuyant sur le bouton \og Coop/PVP \fg{} pour changer de type et si l'on veut on peut préciser la \textit{seed} de la map en base 36 (\textit{seed} composé de maximum six chiffres et lettres en minuscules). Cette seed est propre à un monde particulier et permet donc de régénérer le même monde (sans prendre en compte les modifications faites pas le joueur). Il y a donc 2 176 782 336 monde différents qui peuvent être générés. Il suffit alors d'appuyer sur le bouton \og Create \fg{} pour créer un nouveau monde et commencer une partie dedans. Pour des raison de comptabilité des sauvegarde il est impossible de créer plusieurs sauvegardes du même nom.
\begin{figure}[h!]
\begin{center}
\includegraphics[width=12cm]{CreationMonde}
\caption{Création de monde} 
\label{CreationMonde}
\end{center}
\end{figure}
\\
Dans l'interface d'enregistrement de serveur (voir figure \ref{CreationServeur}) il nous est seulement demander de choisir une adresse ip et un nom sous laquelle l'enregistrer puis d'appuyer sur le bouton \og Create\fg{} pour enregistrer un nouveau serveur. contrairement à la création de monde on peut créer plusieurs serveur de même nom ou de même adresses IP sans créer de conflit.
\begin{figure}[h!]
\begin{center}
\includegraphics[width=12cm]{CreationServeur}
\caption{Enregistrement d'un serveur} 
\label{CreationServeur}
\end{center}
\end{figure}
Notre génération de monde commençant à être longue avec la génération des îles et de leurs graphes  Nous avons rajouter un écran de chargement sous la forme d'une vidéo format MP4 tournant en boucle.
\\
Enfin en jeux nous avons rajouter des options permettant d'influencer la caméra. La première permet de modifier la sensibilité de la souris sur les mouvement de la caméra et la deuxième permet de modifier la distance maximum de vision de la caméra. Cette dernière option à été rajouter car avec l'agrandissement de notre monde les plus vieux ordinateurs n'était pas capable de faire tourner le jeu sans laguer.


% systeme de serveur et de différents monde

% ajout de plusieurs options

% écran de chargement
\subsubsection{La refonte de la première scène (Julien)}

% système de "train" bullshit Julien

% un ptit screen

\subsubsection{Le tutoriel (Théo et Romain)}

% bullshit interêt du Tutoriel (introduction de l'histoire + prise en main du jeu)

% tutoriel propre au joueur

% les 3 HUD avec screen

\subsection{Les ajouts mineurs}

\subsubsection{ Amélioration des commandes et système d'opérateur (Florian)}

% mode opérateur

% nouvelles commandes

\subsubsection{Refonte Graphique : interface et skybox (Théo, Julien et Romain)}

% modification de la skybox + bullshit pourquoi c'est bien (l'abysse et plus DARK)

% modification des graphiques  screen avant/après

\subsubsection{Amélioration de la mort (Romain et Florian)}

% HUD mort

% système de respawn mieux expliqué

% pop des objets

\subsubsection{Ajout de son et d'animations (Théo)}

Lors de notre première soutenance nous avions présentés un environnent sonore (musique et bruitage) assez restreint qui se limité a 4 musiques et quelque bruitages. 
\\
Nous avons trouvé ce contenu insuffisant, enrichir ce dernier est alors devenu essentiel afin de rendre l'expérience de jeu plus agréable.
\\
La création d'un nouveau biome, le biome automne, nous a permis d'introduire dans le jeu une nouvelle musique.
\\
Nous avions alors 4 musique de jeu, une pour chaque biomes,  cependant, ces musiques se jouaient de manière aléatoire sans aucune cohérence avec le biome dans lequel nous nous trouvions. Nous trouvions cette incohérence fort dommage, nous avons alors fait en sorte que les musiques se lancent en fonction du biome sur lequel le joueur se trouve. 
\\
L'ajout de divers nouveaux bruitages et animations, se sont fait en même temps que l'ajout de gameplay au jeu. Il a fallut rendre cohérent les actions du personnage car se dernier ne pouvais pas obtenir du bois sans couper un arbre, il nous à alors fallut créer des animations et bruitage pour les divers actions indispensable a notre jeu comme couper du bois, ramasser des objets, ...
Ces multiples ajout de bruitages et musique ont nettement amélioré l'environnement sonore du jeux. Au final cet enrichissement sonore et ces nouvelles animations permettent une assez bonne cohérence entre ce que l'on souhaite réaliser et ce que l'on peut observer dans le jeu.


\subsubsection{Ajout d'île et d'un nouveau biomes (Julien et Théo)}

% ajout de deux chunks + bullshit

% ajout du biomes automne + bullshit

% ajout des haches,citrouille,squelettes.. + bullshit


\subsubsection{Les Stats (Florian et Julien)}

% ajouts des Stats, leur intérêt pour les succes

% stats propre au serveur

\subsubsection{Bêta (Florian)}

% comme pour l'alpha sauf que tu remplace alpha par bêta ^^
\pagebreak
\subsection{Le site web (Théo)}

Le site web que nous avons créer (accessible depuis cette adresse : http://jmounier.github.io/Aegina-Website/) avait pour notre équipe plusieurs objectifs à remplir :
\begin{itemize}
\item nous devions respecter l'obligation qui était de construire un site web;
\item créer un lieu où nos testeur et nos ,nous espérons, futur joueurs puissent trouver toutes les informations nécessaire afin de rendre leur expérience en jeu agréable;
\item permettre à ces personnes de télécharger notre jeu mais aussi de nous transmettre leurs expériences.;
\end{itemize}
Tout ceci est réalisable depuis les différentes pages présente sur le site, que nous allons maintenant vous présenter.

\subsubsection{la page d'accueil}

Sur cette page (voir figure \ref{Accueil}) vous pourrez apercevoir, au premier plan plusieurs éléments : 
\begin{itemize}
\item un bref descriptif du jeu;
\item des accès pour télécharger la version béta de Aegina en fonction de votre système d'exploitation, Windows, Mac et GNU/Linux;
-\item la dernière actualité ajoutée sur le site;
\end{itemize}
Vous pouvez aussi voir sur le coté un menu, il permet de naviguer entre les différentes pages du site web, il est positionné au même endroit sur toutes les pages.

\begin{figure}[h!]
\begin{center}\includegraphics[width=12cm]{Accueil}
\caption{Page d'accueil du site web} 
\label{Accueil}
\end{center}
\end{figure}

\subsubsection{Les actualités}

Sur la pages des actualités (voir figure \ref{News}), que nous tiendrons à jour un maximum vous pourrez trouver les différents ajouts qu'il y aura dans le jeu.
\\
Les actualités que vous pourrez trouver sur cette page pourront très bien concerner l'ajout d'un nouveau biome, de monstres ou encore le lancement d'une nouvelle version disponible au grand public.
\\
Nous espérons que les différentes annonces qui seront faite sur cette page rempliront les attentes que vous avez envers Aegina.

\begin{figure}[h!]
\begin{center}\includegraphics[width=12cm]{News}
\caption{Actualités du site web} 
\label{News}
\end{center}
\end{figure}

\subsubsection{Le wiki}

La page wiki (voir figure \ref{Wiki}) est pour notre équipe une page très importante, nous connaissons Aegina et donc nous connaissons la difficulté de rester en vie dans ce monde hostile même pour des personnes aguerries, c'est pourquoi nous avons décidé de mettre en place cette page.
\\
Dans ce wiki vous pourrez trouver toute sorte d'informations, toute plus utiles les unes que les autre pour survivre. 
\\
Vous pourrez y trouver les différent objets que vous pouvez posséder dans le jeu ainsi que leurs possibles effets, les élément et monstres qui existent dans Aegina.
\\
Le wiki est actuellement en quatre partie : La liste des objets, la liste des éléments que l'on trouve sur les îles, la liste des Créatures et la liste des effets. On peut passer d'une aprtie à l'autre en cliquant sur le nom de la partie en haut de la page
\\
Il faut cependant savoir que ce wiki est rempli au fur et à mesure de notre avancé, il peut donc manquer certaine informations.

\begin{figure}[h!]
\begin{center}\includegraphics[width=12cm]{Wiki}
\caption{Wiki du site web} 
\label{Wiki}
\end{center}
\end{figure}

\subsubsection{L'équipe}

Sur la dernière page de notre site web vous pourrez trouver divers informations sur les membres de l'équipe AIM$^{2}$, ces informations seront prochainement disponible.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagebreak

\section{Prévisions}


\subsection{Les quatre grand axes}

\subsubsection{Histoire et fin}

\subsubsection{Créatures : variation des IA + boss ?}

\subsubsection{Un monde infini}

\subsubsection{PVP refonte du système de combat}

\subsection{Les améliorations}

\subsubsection{Survie : équilibrage}

\subsubsection{Cristaux : influence divine}

\subsubsection{PVP : une vrai fin possible}

\subsubsection{Amélioration en masse : graphisme,animation,son et musique}

\section*{Conclusion}
\addcontentsline{toc}{section}{\protect\numberline{}Conclusion}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagebreak

% Les deux lignes suivantes permettent une numérotation des pages  "i"
\pagenumbering{roman}
\setcounter{page}{1}


\end{document}
